---
import type { HTMLAttributes } from 'astro/types';
import { tv, type VariantProps } from 'tailwind-variants';

type Props = HTMLAttributes<'input'> & InputVariants;

export type InputVariants = VariantProps<typeof inputVariants>;

export const inputVariants = tv({
  base: [
    'placeholder:text-gray-11/70 w-full rounded border px-4 select-none',
    'focus-visible:border-accent-8 focus-visible:outline-none',
    'disabled:pointer-events-none disabled:opacity-50',
    'user-invalid:border-danger-7 user-invalid:focus-visible:border-danger-8',
  ],
  defaultVariants: { size: '2', variant: 'outline' },
  variants: {
    elevation: { '1': 'elevation-1', '2': 'elevation-2', '3': 'elevation-3' },
    size: { '1': 'h-8 text-sm', '2': 'h-9 text-base', '3': 'h-10 text-lg', '4': 'h-11 text-xl', '5': 'h-12 text-2xl' },
    variant: {
      solid: 'bg-gray-1 border-transparent',
      'solid-outline': 'bg-gray-1 border-gray-7',
      soft: 'bg-gray-3 border-transparent',
      'soft-outline': 'bg-gray-3 border-gray-7',
      outline: 'border-gray-7 bg-transparent',
    },
  },
});

const { class: className, elevation, size, variant, ...props } = Astro.props;
---

<input data-slot="field-control" class={inputVariants({ elevation, size, variant, className })} {...props} />
