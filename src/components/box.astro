---
import type { HTMLTag, Polymorphic } from 'astro/types';
import { tv, type VariantProps } from 'tailwind-variants';

type Props<Tag extends HTMLTag = 'div'> = Polymorphic<{ as: Tag }> & BoxVariants;

export type BoxVariants = VariantProps<typeof boxVariants>;

export const boxVariants = tv({
  variants: {
    rounded: { true: 'rounded' },
    elevation: { '1': 'elevation-1', '2': 'elevation-2', '3': 'elevation-3' },
    variant: {
      'gray-solid': 'bg-gray-1',
      'gray-soft': 'bg-gray-2',
      'gray-solid-gradient': 'from-gray-1 to-gray-2 bg-linear-to-tr',
      'gray-soft-gradient': 'from-gray-2 to-gray-3 bg-linear-to-tr',
      'gray-solid-outline': 'bg-gray-1 border-gray-6 border',
      'gray-soft-outline': 'bg-gray-2 border-gray-6 border',
      'gray-solid-outline-gradient': 'from-gray-2 to-gray-3 border-gray-6 border bg-linear-to-tr',
      'gray-soft-outline-gradient': 'from-gray-2 to-gray-3 border-gray-6 border bg-linear-to-tr',
      'gray-transparent-outline': 'border-gray-6 border',
      'accent-solid': 'bg-accent-1',
      'accent-soft': 'bg-accent-2',
      'accent-solid-gradient': 'from-accent-1 to-accent-2 bg-linear-to-tr',
      'accent-soft-gradient': 'from-accent-2 to-accent-3 bg-linear-to-tr',
      'accent-solid-outline': 'bg-accent-1 border-accent-6 border',
      'accent-soft-outline': 'bg-accent-2 border-accent-6 border',
      'accent-solid-outline-gradient': 'from-accent-2 to-accent-3 border-accent-6 border bg-linear-to-tr',
      'accent-soft-outline-gradient': 'from-accent-2 to-accent-3 border-accent-6 border bg-linear-to-tr',
      'accent-transparent-outline': 'border-accent-6 border',
      'warn-solid': 'bg-warn-1',
      'warn-soft': 'bg-warn-2',
      'warn-solid-gradient': 'from-warn-1 to-warn-2 bg-linear-to-tr',
      'warn-soft-gradient': 'from-warn-2 to-warn-3 bg-linear-to-tr',
      'warn-solid-outline': 'bg-warn-1 border-warn-6 border',
      'warn-soft-outline': 'bg-warn-2 border-warn-6 border',
      'warn-solid-outline-gradient': 'from-warn-2 to-warn-3 border-warn-6 border bg-linear-to-tr',
      'warn-soft-outline-gradient': 'from-warn-2 to-warn-3 border-warn-6 border bg-linear-to-tr',
      'warn-transparent-outline': 'border-warn-6 border',
      'danger-solid': 'bg-danger-1',
      'danger-soft': 'bg-danger-2',
      'danger-solid-gradient': 'from-danger-1 to-danger-2 bg-linear-to-tr',
      'danger-soft-gradient': 'from-danger-2 to-danger-3 bg-linear-to-tr',
      'danger-solid-outline': 'bg-danger-1 border-danger-6 border',
      'danger-soft-outline': 'bg-danger-2 border-danger-6 border',
      'danger-solid-outline-gradient': 'from-danger-2 to-danger-3 border-danger-6 border bg-linear-to-tr',
      'danger-soft-outline-gradient': 'from-danger-2 to-danger-3 border-danger-6 border bg-linear-to-tr',
      'danger-transparent-outline': 'border-danger-6 border',
    },
  },
});

const { as: Tag = 'div', class: className, rounded, elevation, variant, ...props } = Astro.props;
---

<Tag class={boxVariants({ rounded, elevation, variant, className })} {...props}><slot /></Tag>
